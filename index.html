<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Hello World!</title>
  <style media="screen">
    body {
      height: 100%;
      background-color: red;
    }
    a {
      text-decoration: underline;
      cursor: pointer;
    }
    webview {
      height: 100px;
      border: 1px solid black
    }
  </style>
</head>

<body>
  
  <img src="http://placehold.it/200x150" alt=""/>
  <hr>
  <button id="zoom_up">Increase Zoom</button>
  <button id="zoom_down">Decrease Zoom</button>
  <button id="zoom_reset">Reset Zoom</button>

  <br>

  <h1>Hello World!</h1>
  <h3><a onclick="openWin()" target="_blank">Open Google.com</a></h3>
  <h3><a onclick="closeWin()" target="_blank">Close Google.com</a></h3>
  <h3><a onclick="alert_win('An alert initiated by main window')" target="_blank">Alert on Google.com</a></h3>
  <!-- <h3><a href="https://www.google.com/" target="_blank">GOOGLE</a></h3> -->
  <h3><a href="http://auth.localhost">HOME</a></h3>
  <h3><a href="https://drive.google.com/uc?export=download&id=0Bw8HgOhf0Mg5bVdOZWVfcE5qb1E">DOWNLOAD HERE!</a></h3>

  <webview src="page1.html"></webview>
  <!-- All of the Node.js APIs are available in this renderer process. -->
  We are using Node.js
  <script>document.write(process.versions.node)</script>,
  Chromium
  <script>document.write(process.versions.chrome)</script>,
  and Electron
  <script>document.write(process.versions.electron)</script>.

  <br>

  <textarea id="code" name="name" rows="10" cols="50"></textarea>
  <button id="run_js">Run Js</button>

  <script>
    // You can also require other files to run in this process
    require('./renderer.js')

    //Browser window proxies ------------------------------------------------------------------------------
    let win

    const openWin = () => {
      win = window.open('https://www.google.com/', "Google Window",
        'resizable=no,width=950')
    }

    const closeWin = () => {
      win.close()
    }

    const alert_win = (msg) => {
      win.eval(`alert('${msg}')`)
    }

    // WEB FRAME --------------------------------------------------------------------------------------

    const {webFrame} = require('electron')

    let zoom = 0

    document.getElementById('zoom_up').addEventListener('click',() => {
      webFrame.setZoomLevel(++zoom)
    })

    document.getElementById('zoom_down').addEventListener('click', () => {
      webFrame.setZoomLevel(--zoom)
    })

    document.getElementById('zoom_reset').addEventListener('click', () => {
      webFrame.setZoomLevel(zoom = 0)
    })

    document.getElementById('run_js').addEventListener('click', () => {
      let code = document.getElementById("code").value
      webFrame.executeJavaScript(code)
    })
    console.log(webFrame.getResourceUsage());

    //WEBVIEW ---------------------------------------------------------------------------
  </script>
</body>

</html>